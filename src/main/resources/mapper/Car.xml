<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.reecelu.pmsserver.dao.CarDao">
    <resultMap id="CarList" type="com.reecelu.pmsserver.entity.Car">
        <result property="masterId" column="master_id"/>
        <result property="licensePlate" column="license_plate"/>
        <result property="parkingSpace" column="parking_space"/>
    </resultMap>

    <parameterMap id="CarParameterMap" type="com.reecelu.pmsserver.entity.Car">
        <parameter property="masterId" resultMap="master_id" jdbcType="INTEGER"/>
        <parameter property="licensePlate" resultMap="license_plate" jdbcType="VARCHAR"/>
        <parameter property="parkingSpace" resultMap="parking_space" jdbcType="VARCHAR"/>
    </parameterMap>

<!--  业主·汽车登记  -->
    <insert id="proprietorRegisterCar" parameterMap="CarParameterMap">
        INSERT into car  ( master_id,  license_plate,  parking_space, colour)  VALUES  ( #{masterId} , #{ licensePlate}, #{parkingSpace}, #{colour});
    </insert>
<!--  业主·展示车辆信息  -->
    <select id="proprietorSearchCar" resultMap="CarList">
        select * from car where master_id = #{masterId};
    </select>

</mapper>